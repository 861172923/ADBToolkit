# ADB & Scrcpy 工具集

这是一个功能强大的安卓设备管理工具集，通过简单的菜单将常用的 ADB (Android Debug Bridge) 命令与高性能的 Scrcpy 投屏工具无缝集成。无论您是开发者、测试人员还是高级用户，这个脚本都能极大地提高您的工作效率。

---

## 核心功能

*   **设备管理**: 轻松查看、重启、进入特殊模式（Recovery/Bootloader）。
*   **应用管理**: 快速安装、卸载、启动和停止应用程序。
*   **无线连接**: 无需数据线即可连接和管理您的设备。
*   **屏幕操作**: 一键截图和录屏，并自动保存到电脑。
*   **高级投屏 (Scrcpy)**: 集成了强大的 Scrcpy，提供低延迟、高质量的投屏和控制，并为AR眼镜等特殊设备提供了高级适配功能。
*   **日志工具**: 查看和清除设备日志，方便调试。

---

## 使用前准备

1.  **安装 ADB**:
    *   确保您已安装 Android SDK Platform Tools，并且 `adb.exe` 所在的路径已添加到系统的 `PATH` 环境变量中。

2.  **安装 Scrcpy**:
    *   确保您已下载 Scrcpy (本项目已包含 `scrcpy-win64-v3.3.1` 文件夹)。
    *   将 `scrcpy.exe` 所在的路径 (例如 `E:\Tool\Adb Tool\scrcpy-win64-v3.3.1`) 添加到系统的 `PATH` 环境变量中，以便脚本能找到它。

3.  **在安卓设备上启用USB调试**:
    *   进入 `设置` > `关于手机`。
    *   连续点击"版本号"7次，直到提示"您已处于开发者模式"。
    *   返回上一级菜单，进入 `系统和更新` > `开发者选项`。
    *   打开"USB调试"开关。

---

## 如何使用

1.  通过USB数据线将您的安卓设备连接到电脑。
2.  双击运行 `adb_tool.bat` 文件。
3.  根据屏幕上显示的菜单，输入对应的数字并按回车，即可执行相应的功能。

---

## 功能详解

### 主菜单

*   **1. 查看设备**: 列出所有已连接的设备及其状态。
*   **2. 安装APK**: 提示您输入APK文件的完整路径，并将其安装到设备上。
*   **3. 无线连接**: 进入无线连接子菜单，可以启用TCP模式或通过IP地址连接设备。
*   **4. Scrcpy 高级投屏**: 进入强大的Scrcpy功能菜单 (详见下文)。
*   **5. 卸载应用**: 提示您输入应用的包名 (例如 `com.example.app`) 并将其卸载。
*   **6. 重启设备**: 重启您的安卓设备。
*   **7. 重启到Recovery**: 将设备重启到Recovery模式。
*   **8. 重启到Bootloader**: 将设备重启到Bootloader模式。
*   **9. 截屏**: 截取设备当前屏幕，并以 `screenshot.png` (或自定义名称) 保存在脚本所在目录。
*   **10. 录屏**: 录制设备屏幕。脚本会自动检查设备是否支持此功能。
*   **11. 查看日志**: 提供三种模式查看设备日志 (全部/实时/仅错误)。
*   **12. 清除日志**: 清除设备中缓存的日志。
*   **13. 获取序列号**: 显示设备的唯一序列号。
*   **14. 查看设备状态**: 显示设备连接状态和型号信息。
*   **15. 启动应用**: 根据包名和可选的Activity名启动一个应用。
*   **16. 停止应用**: 强制停止一个正在运行的应用。
*   **17. 获取IP地址**: 显示设备的WLAN IP地址，方便无线连接。
*   **18. 断开连接**: 进入断开连接子菜单，可以选择断开所有设备或指定设备。

## 使用方法

1. 确保已安装Android SDK并配置好ADB环境
2. 双击运行 `adb_tool.bat` 文件
3. 根据菜单提示选择相应的功能
4. 按照提示输入必要的信息

## 文件说明

- `adb_tool.bat` - 主程序文件（中文界面，已修复编码问题）
- `README.md` - 详细使用说明

## 使用前准备

### 1. 安装Android SDK
- 下载并安装Android Studio或Android SDK
- 确保ADB工具在系统PATH中

### 2. 启用开发者选项
在Android设备上：
1. 进入 设置 > 关于手机
2. 连续点击"版本号"7次
3. 返回设置，找到"开发者选项"
4. 启用"USB调试"

### 3. 连接设备
- 通过USB连接设备
- 在设备上允许USB调试
- 运行 `adb devices` 确认设备已连接

## 注意事项

1. **权限要求**：某些操作需要设备root权限
2. **网络连接**：无线连接功能需要设备和电脑在同一网络
3. **文件路径**：安装APK时请使用完整路径
4. **包名格式**：应用包名通常为 `com.example.appname` 格式
5. **编码问题**：如果遇到中文显示问题，请使用英文版本 `adb_tool_fixed.bat`

## 常见问题

### Q: 菜单显示乱码或错误？
A: 这是Windows批处理文件的中文编码问题，已修复。如果仍有问题，请使用英文版本。

### Q: 设备无法连接？
A: 检查USB调试是否启用，驱动是否正确安装

### Q: 无线连接失败？
A: 确保设备和电脑在同一WiFi网络，且设备IP地址正确

### Q: 某些命令执行失败？
A: 检查设备是否有相应权限，某些操作需要root权限

## 系统要求

- Windows 7/8/10/11
- Android SDK Platform Tools
- 支持ADB的Android设备

## 版本信息

- 版本：1.1
- 更新日期：2024年
- 支持ADB版本：所有版本
- 修复内容：解决中文编码显示问题 